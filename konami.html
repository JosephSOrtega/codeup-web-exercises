<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <script src="js/jquery-2.2.4.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
</head>

<body>
<h1>Konami Code</h1>

<p>
    Click somewhere in the output box [here] to ensure focus.<br>
    Then enter the following code using your keyboard:
</p>

<p class="code">
    <span>&uarr;</span>
    <span>&uarr;</span>
    <span>&darr;</span>
    <span>&darr;</span>
    <span>&larr;</span>
    <span>&rarr;</span>
    <span>&larr;</span>
    <span>&rarr;</span>
    <span>B</span>
    <span>A</span>
</p>
<script src="/js/jquery-2.2.4.js"></script>
<script>
    "use strict";
    // var konamiCode = [38,38,40,40,37,39,37,39,66,65]
    // $(document).keyup(function (event) {
    //     console.log(event.keyCode);
    //     var code = event;
    //     var start = false;
    //     if (code == 38) {
    //         var start == true;
    //     }
    //     if (start === true) {
    //         if (konamiCode[count] == code) {
    //             alert('Good guess');
    //             count += 1;
    //         } else {
    //             alert('Wrong code!');
    //             reset()
    //         }
    //     }
    // });
    // function reset() {
    //     var start = false;
    //     var count = 0
    // }
    var global = {

        konami: function() {
            var konamikeys = [38,38,40,40,37,39,37,39,66,65],
                started = false,
                count = 0;

            $(document).keydown(function(e){
                var reset = function() {
                    started = false;
                    count = 0;
                    return;
                };

                var key = e.keyCode;

                if(!started){
                    if(key == 38){
                        started = true;
                    }
                }

                if (started){

                    if (konamikeys[count] == key){
                        count++;
                    } else {
                        // Incorrect key, restart.
                        reset();
                    }
                    if (count == 10){
                        // Success!
                        alert('You have added 30 lives!');
                        reset();
                    }
                } else {
                    reset();
                }
            });
        }
    };

    global.konami();</script>
</body>
</html>